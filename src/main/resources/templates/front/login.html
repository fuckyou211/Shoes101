<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="shortcut icon" type="image/x-icon" href="../static-front/img/101_favicon.ico">
		<title>登录</title>
		<link rel="stylesheet" href="../static-front/css/bootstrap.css">
		<script src="../static-front/js/jquery-3.2.1.min.js"></script>

		<script src="../static-front/js/popper.js"></script>
		<script src="../static-front/js/bootstrap.js"></script>
		<script type="text/javascript">
            var countdown=60;
            function sendemail(){
                var obj = $("#btn");
                settime(obj);

            }
            function settime(obj) { //发送验证码倒计时
                if (countdown == 0) {
                    obj.attr('disabled',false);
                    //obj.removeattr("disabled");
                    obj.val("获取验证码");
                    countdown = 60;
                    return;
                } else {
                    obj.attr('disabled',true);
                    obj.val("重新发送(" + countdown + ")");
                    countdown--;
                }
                setTimeout(function() {
                        settime(obj) }
                    ,1000)
            }
		</script>
		<style>
			.container {
				font-family: "微软雅黑";
			}
			p {
				width: 100%;
				line-height: 33px;
				height: 33px;
				text-align: center;
			}
		</style>
	</head>

	<body style="background-image: url(../static-front/images/loginbackgroud.jpg); background-repeat:no-repeat;">

		<div class="container">
			<div class="col-6" style="float: right;">
			<div class="col-sm-8 col-md-6 col-lg-5 a1" style="margin: auto;margin-top: 210px;padding: 30px 15px 20px 15px;background-color: rgba(255,255,255,0.5);">
				<form >
					<h2 style="text-align:center;">欢迎登录</h2>
					<div class="form-group">
						<input  type="text" class="form-control d1" id="username1" placeholder="用户名/手机" />
					</div>
					<div class="e1">
					</div>

					<div class="form-group">
						<input type="password"  class="form-control d2" id="password1" placeholder="密码" />
					</div>
					<div class="e2">
					</div>
					<div class="custom-control custom-checkbox mb-3">
						<input type="checkbox" class="custom-control-input" id="customCheck" name="example1">
						<label class="custom-control-label" for="customCheck">记住密码</label>
						<a href="#" style="float: right;">忘记密码</a>
					</div>

					<div class="form-group">
						<div style="margin: auto;">
                            <input type="button"  class="btn btn-primary denglu" value="登陆" />
							<!--<a class="btn btn-primary" >登录</a>-->
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<a class="btn btn-warning b1">注册</a>
						</div>
					</div>
					<div class="e3">
					</div>
				</form>


			</div>
			</div>

			<div id="backGround"></div>
			<div class="col-sm-8 col-md-6 col-lg-5 a2" style="margin: auto;margin-top: 150px;padding: 30px 15px 20px 15px;background-color: rgba(255,255,255,0.5);display: none;">
				<form action="/login/do_login">
					<h2 style="text-align:center;">欢迎注册</h2>
					<div class="form-group  row">
						<div class="col-3">
							<p style="text-align:center;">用户名：</p>
						</div>
						<div class="col-8">
							<input type="text" class="form-control" id="username"  />
						</div>
						<span class="e2"></span>
					</div>
					<div class="form-group row">
						<div class="col-3">
							<p style="text-align:center;">输入密码：</p>
						</div>
						<div class="col-8">
							<input type="password" class="form-control" id="password"  />
						</div>
						<div class="col-1">
							<span  style="color: green">✔</span>
						</div>
					</div>
					<div class="form-group row">
						<div class="col-3">
							<p style="text-align:center;">确认密码：</p>
						</div>
						<div class="col-8">
							<input type="password" class="form-control" id="repassword" />
						</div>
						<div class="col-1" style="color: green">
							<p>✔</p>
						</div>
					</div>
					<div class="form-group row">
						<div class="col-3">
							<p style="text-align:center;">性别：</p>
						</div>
						<div class="col-8" style="margin: auto 0">
						<label class="radio-inline">
                            <input type="radio" name="gender" id="inlineRadio1" value="1"> 男

                              <input type="radio" name="gender" id="inlineRadio2" value="2"> 女
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: red">✖</span>
                        </label>

                        </div>
					</div>
					<div class="form-group  row">
						<div class="col-3">
							<p style="text-align:center;">手机：</p>
						</div>
						<div class="col-8">
							<input type="text" class="form-control" id="phone"  />
						</div>
						<div class="col-1" style="color: green">
							<p>✔</p>
						</div>
					</div>
					<div class="form-group  row">
						<div class="col-3">
							<p style="text-align:center;">短信验证：</p>
						</div>
						<div class="col-4">
							<input type="text" class="form-control" id="yzm" placeholder="请输入验证码" />
						</div>
						<div class="col-1" style="color: green">
							<p>✔</p>
						</div>
						<div class="col-3">
							<input type="button" class="btn btn-primary" id="btn" value="获取验证码" onclick="sendemail()" />

						</div>
					</div>

					<div class="form-group col-12">
						<div class="col-6" style="margin: auto;">
							<a class="btn btn-warning  b2">注册</a>
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<a class="btn btn-warning  b3">返回</a>
						</div>
					</div>
				</form>
			</div>

		
		<script>
			$(function() {
				$("a.b1").click(function() {
					$("div.a1").hide();
					$("div.a2").show();
				});
				$("a.b2").click(function() {
                    $.post({url:"/login/do_register",
                        dataType:'json',
                        type: 'post',
                        data:{
                            mobile:$(".d1").val(),
                            password:$(".d2").val()
                        },
                        success:function(result){
                            //eval函数解析json数据
                            // alert(result.toString());
                            console.log(result.data);
                            if (result.code==0)
                            {
                                self.location=document.referrer;
                            }
                            if (result.code==500212||result.code==500213||result.code==500214||result.code==500216) {
                                $(".e1").html("<span style='color: red'>"+result.msg+"</span>");
                            }
                            else if  (result.code==500211||result.code==500215)
                            {
                                $(".e2").html("<span style='color: red'>"+result.msg+"</span>");
                            }
                            else {
                                $(".e3").html("<span style='color: red'>"+result.msg+"</span>");
                            }

                            // console.log(result.toString());
                        },
                        fail: function (err) {
                            alert("修改失败！");
                            console.log(err);
                        }
                    });

					$("div.a2").hide();
					$("div.a1").show();
				});
				$("a.b3").click(function() {
					$("div.a2").hide();
					$("div.a1").show();
				});
			});
            $(function(){
                $(".denglu").click(function(){
                    $.post({url:"/login/do_login",
                        dataType:'json',
                        type: 'post',
                        data:{
                            mobile:$(".d1").val(),
							password:$(".d2").val()
						},
                        success:function(result){
                            //eval函数解析json数据
                            // alert(result.toString());
                            console.log(result.data);
                            if (result.code==0)
							{
                                self.location=document.referrer;
							}
                            if (result.code==500212||result.code==500213||result.code==500214||result.code==500216) {
								$(".e1").html("<span style='color: red'>"+result.msg+"</span>");
                            }
                            else if  (result.code==500211||result.code==500215)
							{
                                $(".e2").html("<span style='color: red'>"+result.msg+"</span>");
							}
							else {
                                $(".e3").html("<span style='color: red'>"+result.msg+"</span>");
							}

                            // console.log(result.toString());
                        },
                        fail: function (err) {
                            alert("修改失败！");
                            console.log(err);
                        }
                    });
                });

            });


		</script>
	</div>
	</body>

</html>