<!doctype html>
<html class="no-js" lang="">

<head>
    <title></title>

    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="../static-front/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static-front/font/font-awesome.min.css">
    <link rel="stylesheet" href="../static-front/css/owl.carousel.css">
    <link rel="stylesheet" href="../static-front/css/owl.theme.css">
    <link rel="stylesheet" href="../static-front/css/owl.transitions.css">
    <link rel="stylesheet" href="../static-front/css/jquery-ui.css">
    <link rel="stylesheet" href="../static-front/css/meanmenu.min.css">
    <link rel="stylesheet" href="../static-front/css/nivo-slider.css">
    <link rel="stylesheet" href="../static-front/css/preview.css">
    <link rel="stylesheet" href="../static-front/css/animate.css">
    <link rel="stylesheet" href="../static-front/css/magic.css">
    <link rel="stylesheet" href="../static-front/css/normalize.css">
    <link rel="stylesheet" href="../static-front/css/main.css">
    <link rel="stylesheet" href="../static-front/css/style.css">
    <link rel="stylesheet" href="../static-front/css/responsive.css">

    <script src="../static-front/js/modernizr-2.8.3.min.js"></script>
</head>

<body>
    <header>
        <!--用户栏目-->
        <div class="container">
            <div class="row">
                <div class="col-md-7 col-md-offset-3">
                    <div class="call-support">
                        <p id="login-tip" style="font-size: 15px;">101Shoes 欢迎您，
                            <!-- 如果没有登录显示这个信息 -->
                            <!--<s style="text-decoration: none">请先
                                <a id="login-link" href="#">登陆</a>
                            </s>-->
                            <!-- 登录成功的话显示这个 -->
                            <b>隔壁老王</b>
                        </p>
                    </div>
                </div>
                <div class="col-md-2 col-sm-3">
                    <div class="dashboard">
                        <div class="account-menu">
                            <ul>
                                <li>
                                    <a href="#">
                                        <i class="fa fa-user" style="font-size: 20px;"></i>
                                    </a>
                                    <ul>
                                        <li>
                                            <a href="my-account.html">我的订单</a>
                                        </li>
                                        <li>
                                            <a href="wishlist.html">我的信息</a>
                                        </li>
                                        <li>
                                            <a href="checkout.html">退出</a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <div class="cart-menu">
                            <ul>
                                <li>
                                    <a href="#"><i class="fa fa-shopping-cart" style="font-size: 20px;"></i> <span>2</span> </a>
                                    <div class="cart-info">
                                        <ul>
                                            <li>
                                                <div class="cart-img">
                                                    <img src="../static-front/img/1.png">
                                                </div>
                                                <div class="cart-details">
                                                    <a href="shoes-cart.html">商品1</a>
                                                    <p>1 x $174.00</p>
                                                </div>
                                                <div class="btn-edit"></div>
                                                <div class="btn-remove"></div>
                                            </li>
                                            <li>
                                                <div class="cart-img">
                                                    <img src="../static-front/img/2.png" alt="">
                                                </div>
                                                <div class="cart-details">
                                                    <a href="shoes-cart.html">商品2</a>
                                                    <p>1 x $777.00</p>
                                                </div>
                                                <div class="btn-edit"></div>
                                                <div class="btn-remove"></div>
                                            </li>
                                        </ul>
                                        <h3>小计: <span> $951.00</span></h3>
                                        <a href="checkout.html" class="checkout">查看</a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--商城导航-->
        <div class="mainmenu-area product-items">
            <div class="container">
                <div class="row">
                    <div class="col-md-3">
                        <div class="logo">
                            <a href="index.html">
                                <img src="../static-front/images/newlogo.png" alt="">
                            </a>
                        </div>
                    </div>
                    <div class="col-md-9">
                        <div class="mainmenu">
                            <nav>
                                <ul>
                                    <li>
                                        <a href="index.html">101Shoes</a>
                                    </li>
                                    <li>
                                        <a href="shop.html">男鞋</a>
                                        <div class="mega-menu" id="men_sort">
                                            <ul v-for="item in lists">
                                                <li class="col-md-12">
                                                    <span><a class="subtitle" style="padding-top: 18px;font-size: 15px;" href="javascript:void(0);" @click="toShoesList(item.shoescatalog.catalogid)">{{item.shoescatalog.catalogname}}</a></span>
                                                    <div class="row">
                                                        <div class="col-md-2" v-for="items in item.childMapData.childList">
                                                            <span><a style="padding-top: 5px;" href="javascript:void(0);" @click="toShoesList(items.shoescatalog.catalogid)">{{items.shoescatalog.catalogname}}</a></span>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li>
                                        <a href="shop.html">女鞋</a>
                                        <div class="mega-menu" id="women_sort">
                                            <ul v-for="item in lists">
                                                <li class="col-md-12"><span><a class="subtitle" style="padding-top: 18px;font-size: 15px;" href="javascript:void(0);" @click="toShoesList(item.shoescatalog.catalogid)">{{item.shoescatalog.catalogname}}</a></span>
                                                    <div class="row">
                                                        <div class="col-md-2" v-for="items in item.childMapData.childList">
                                                            <span><a  style="padding-top: 5px;" href="javascript:void(0);" @click="toShoesList(item.shoescatalog.catalogid)">{{items.shoescatalog.catalogname}}</a></span>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li>
                                        <a href="shop.html">品牌</a>
                                        <div class="mega-menu">
                                            <ul id="theBrand">
                                                <li class="col-md-12" >
                                                    <div class="row">
                                                        <div v-for="item in lists">
                                                            <div class="col-md-2">
                                                                <span><a href="#" style="padding-top: 10px;">{{item.propertyvalue}}</a></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li class="mega-jewellery">
                                        <a href="javascript:;" id="carry-rush" onclick="carryRush()">疯狂抢购</a>
                                    </li>
                                    <li class="search">
                                        <input type="text" class="myinput" placeholder="搜索  运动鞋/休闲鞋">
                                        <button class="mybutton" title="搜索" ><i class="fa fa-search myicon"></i></button>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <script src="../static-front/js/jquery.min.js"></script>
    <script src="../static-front/js/bootstrap.min.js"></script>
    <script src="../static-front/js/wow.min.js"></script>
    <script src="../static-front/js/jquery-price-slider.js"></script>
    <script src="../static-front/js/jquery.nivo.slider.js"></script>
    <script src="../static-front/js/jquery.meanmenu.js"></script>
    <script src="../static-front/js/owl.carousel.min.js"></script>
    <script src="../static-front/js/jquery.elevatezoom.js"></script>
    <script src="../static-front/js/jquery.scrollUp.min.js"></script>
    <script src="../static-front/js/main.js"></script>

    <script src="../static-front/js/vue.js"></script>

    <script>

        $(document).ready(function () {
            getNav();
            getBrands();
        });
        let sorts_1, sorts_2, brands;
        sorts_1 = new Vue({
            el: '#men_sort',
            data: {
                lists:[],
            },
            method:{
            }
        });
        sorts_2 = new Vue({
            el: '#women_sort',
            data: {
                lists:[],
            },
            method:{
                toShoesList: function(catalogid){
                    showShoesLists(catalogid);
                }
            }
        });
        brands = new Vue({
            el: '#theBrand',
            data: {
                lists:[]
            },
            method:{
            }
        });

        /*  跳转至抢购页面 */
        function carryRush() {
            window.location.href="/rush/getAllRush";
        }

        /*获取品牌数据*/
        function getBrands() {
            $.ajax({
                url: "getBrandInfo",
                type: 'post',
                success: function (result) {
                      brands.lists = result.data;
                      console.log(result.data);
                },
                error: function (err) {
                    console.log(err);
                }
            })
        }

        /*获取导航分类数据*/
        function getNav() {
            let catalogName = [];
            catalogName[0] = "男鞋";
            catalogName[1] = "女鞋";
            /*console.log( "hji");*/
            $.ajax({
                url: "getCatalogInfo/2",
                type: 'post',
                data: {
                    catalogNameInfo: JSON.stringify(catalogName),
                    parentId: 0,
                },
                dataType: 'json',
                success: function (result){
                    loadNavData(result.data);
                },
                error: function (err) {
                    console.log(err);
                }
            })
        }

        /*区分开男女鞋的数据*/
        function loadNavData(data) {
            sorts_1.lists = data.男鞋;
            sorts_2.lists = data.女鞋;
            /*console.log(sorts_2.lists);*/
        }

        /*传类别id跳转至商品页*/
        function showShoesLists(catalogId) {
            let theId = catalogId;
            $.ajax({
                url: "",
                type: 'post',
                data: { catalogId:theId },
                dataType: 'json',
                success: function () {
                    console.log("ok");
                },
                error: function (err) {
                    console.log(err);
                }
            })
        }

    </script>

    </body>
</html>